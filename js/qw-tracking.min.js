const _start_promise=a=>Promise.resolve(a);let use_script_loader=!1;const scripts2Load=['./qw-tools.js','./elements.js','./events.js','./api.js','./send.js'],script_loader=a=>{return new Promise(b=>{var d=document.createElement('script');d.src=a,document.head.appendChild(d),b()})};const qw_c=(a={level:2,text:`***********************************\nDebug point.`})=>{return new Promise(b=>{'object'==typeof a&&_start_promise().then(()=>{let d={level:a.level?a.level:2,source:a.source?a.source:'?',text:a.text?a.text:'No text.',type:a.type?a.type:'console-log',targets:a.targets?a.targets:[]};return d}).then(d=>{let e=`***********************************\n`;return'undefined'!=d.level&&(e+=`[${d.level?d.level:2}]`),'undefined'!=d.source&&(e+=` "${d.source?d.source:'?'}"\n`),'undefined'!=d.text&&(e+=`${d.text?d.text:null}`),d.string=e,d}).then(d=>{switch(d.type){case'console-log':console.log(d.string),b(d.string);break;case'api-request':}}),'string'==typeof a&&(console.log(a),b(a))})},element_collect=a=>{return new Promise(b=>{_start_promise(a).then(d=>{let e=[];d.forEach(f=>{let g='';f.tag&&(g=f.tag),f.id&&(g=`#${f.id}`),e.push(document.querySelectorAll(g))}),b(e)}).catch(d=>{qw_c({error:!0,level:2,source:'elements.js',text:`Error with element_collect()\nError Message: ${d}`})})})},element_convert=a=>{return new Promise((b,c)=>{'object'!=typeof a&&c(`Params not an object for convert_element()`),b(a)})},event_listener=(a='click',b)=>{return new Promise(c=>{let e=[],f=g=>{element_convert(g.target).then(h=>event_send(h))};_start_promise(b).then(g=>{g.forEach(h=>{h.forEach(i=>{e.push(i);'click'===a?i.onclick=j=>{f(j)}:'change'===a?i.onchange=j=>{f(j)}:void 0})})}).then(()=>c(e))})},event_send=a=>{return new Promise((b,c)=>{a||c('No data to send.');let e,f,g,h;_start_promise(a).then(i=>{switch(i.tagName){case'A':e='Anchor',f='tel:'===i.protocol?'Anruf':'Link',g=i.href,h=1;break;case'IMG':e='Image',f='Click',g=i.src,h=null;break;case'INPUT':e='Input',f='Change',g=i.id,h=i.value;}return i}).then(i=>{return qw_c(`ga('send', '${'event'}', '${e}', '${f}', '${g}', '${h?h:null}')`),i}).then(i=>b(i))})};window.onload=()=>{elements=document.querySelectorAll('img'),elements.forEach(a=>{a.src=a.dataset.src?a.dataset.src:a.src})},element_collect([{id:'my-input'}]).then(a=>event_listener('change',a)),element_collect([{tag:'img'},{tag:'a'}]).then(a=>event_listener('click',a)),qw_c({level:2,source:`app.js`,text:`App started.`});
